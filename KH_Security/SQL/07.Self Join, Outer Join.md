# Self Join(자기 참조 조인)과 Outer Join(외부 조인)

## 개요
본 문서는 동일 테이블을 참조하여 조인하는 자기 참조 조인과,  
조인 조건에 일치하지 않는 데이터까지 출력하는 외부 조인을 학습하기 위한 문서입니다.

---

## Self Join (자기 참조 조인)

### 개념
- 동일 테이블을 자기 참조에 의해 조인합니다.
- 별명1과 별명2는 동일 테이블에 대한 별명이지만 각각 별도의 테이블처럼 사용합니다.
- 하나의 테이블에 별명을 다르게 하여 마치 여러 개의 테이블 간 조인하는 것처럼 문장을 구현합니다.

### 문법 형식
```sql
  SELECT 별명1.컬럼1, ..., 별명2.컬럼1, ...  
  FROM 테이블 별명1, 테이블 별명2, ...  
  WHERE 조인_조건  
  AND 일반_조건;
```

- 각 사원과 이를 관리하는 사원의 정보를 검색하는 예시
  - e1, e2 테이블간 등가조인
  - e1 : 사원 테이블, e2 : 관리자 테이블
```sql
  SELECT e1.eno, e1.ename, e1.mgr, e2.eno, e2.ename
  FROM emp e1, emp e2
  WHERE e1.mgr = e2.eno;
```

---

## Outer Join (외부 조인)

### 개념
- 조인 조건에 일치하지 않는 데이터를 출력해 줍니다.
- 조인 결과물을 해석할 때 오해를 방지하기 위한 방법입니다.
- 결과의 무결성을 보장합니다.
- '+' 기호는 데이터가 부족한 쪽에 기술합니다.

### 문법 형식
```sql
  SELECT 컬럼, 컬럼, ...  
  FROM 테이블1, 테이블2, ...  
  WHERE 조인_조건(+)  
  AND 일반_조건;
```

- 각 부서별로 사원의 명단을 검색하는 예시
```sql
  SELECT d.dno 부서번호, dname 부서명, ename 사원명
  FROM dept d, emp e             
  WHERE d.dno = e.dno(+)
  ORDER BY 1;
```
- emp에 대응되는 데이터가 없어도 dept 데이터는 출력됩니다.  
즉, 사원이 없는 부서도 결과에 포함시키기 위해 이렇게 작성합니다.
