# 집합 연산자 (Set Operator)

## 개요
본 문서는 SQL에서 두 개 이상의 SELECT 문의 결과를 집합 연산자를 이용하여 처리하는 방법을 학습하기 위한 문서입니다.

---

## 집합 연산자 개념
- 두 SELECT 문의 결과를 집합 연산합니다.
- 검색 결과의 헤더는 앞쪽 SELECT 문에 의해 결정됩니다.
- 두 SELECT 문의 컬럼 개수와 데이터 타입이 일치해야 합니다.

### 형식
```sql
  SELECT ...  
  [UNION ALL | UNION | INTERSECT | MINUS]  
  SELECT ...
```
 
---

## 집합 연산자 종류

| 연산자 | 의미 | 결과 |
|---|---|---|
| UNION | 합집합 | 검색된 결과의 합으로 중복이 제거된다 |
| UNION ALL | 합집합 | 검색된 결과의 합으로 중복을 허용한다 |
| INTERSECT | 교집합 | 양쪽 모두에 포함된 결과만 검색한다 |
| MINUS | 차집합 | 첫 번째 검색 결과에서 두 번째 검색 결과를 제외한 나머지만 검색한다 |

### 집합 연산자 사용 규칙
- 출력 결과의 헤더는 첫 번째 SELECT 문에 의해 결정된다.
- 두 SELECT 문의 결과를 집합 연산한다.
- 두 SELECT 문의 컬럼 개수와 데이터 타입이 일치해야 한다.

---

## 집합 연산자를 이용한 검색 예
- 2000년 이후에 입사한 사원과 부임한 교수의 명단을 검색
```sql
  SELECT pno 번호, pname 이름, hiredate 입사일_부임일   
  FROM professor
  WHERE hiredate >= '2000/01/01'
  UNION ALL
  SELECT eno, ename, hdate
  FROM emp
  WHERE hdate >= '2000/01/01'
  ORDER BY 3;
```

- 화학, 물리학과 학생 중 학점이 3.0 이상인 학생을 검색한다.
```sql
  SELECT sno 학번, sname 이름, major 학과, avr 학점 FROM student
  WHERE major IN ('화학','물리')
  INTERSECT
  SELECT sno, sname, major, avr FROM student
  WHERE avr >= 3;
```

- 제갈씨 성을 가진 사원 중 지원 업무를 하지 않는 사원을 검색
```sql
  SELECT eno, ename, job  FROM emp
  WHERE ename LIKE '제갈%'
  MINUS
  SELECT eno, ename, job  FROM emp
  WHERE job = '지원';
```
